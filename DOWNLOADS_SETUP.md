# üì• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ "–ó–∞–≥—Ä—É–∑–∫–∏"

## –ß—Ç–æ —ç—Ç–æ?

–†–∞–∑–¥–µ–ª "–ó–∞–≥—Ä—É–∑–∫–∏" –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤** –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –°–∫–∞—á–∏–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã, –ø—Ä–æ–≥—Ä–∞–º–º—ã, —à–∞–±–ª–æ–Ω—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –û–ø–ª–∞—á–∏–≤–∞—Ç—å –ø–ª–∞—Ç–Ω–æ–µ –ü–û —á–µ—Ä–µ–∑ insales
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –ø–æ–∫—É–ø–∫–∞–º–∏

## –î–æ—Å—Ç—É–ø

- ‚úÖ **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫ (DESIGNER)** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- ‚úÖ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (ADMIN)** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∞–º–∏
- ‚ùå **–°—Ç—Ä–æ–∏—Ç–µ–ª—å (BUILDER)** - –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- ‚ùå **–ó–∞–∫–∞–∑—á–∏–∫ (CUSTOMER)** - –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

### –¢–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ–∫:
- **PLUGIN** - –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º (AutoCAD, Revit, 3ds Max –∏ —Ç.–¥.)
- **PROGRAM** - –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- **TEMPLATE** - –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
- **LIBRARY** - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **OTHER** - –î—Ä—É–≥–æ–µ

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏:
- CAD –ø–ª–∞–≥–∏–Ω—ã
- 3D –ø–ª–∞–≥–∏–Ω—ã
- –ü—Ä–æ–≥—Ä–∞–º–º—ã
- –®–∞–±–ª–æ–Ω—ã
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏

## –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏

–°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏:
1. **AutoCAD –ü–ª–∞–≥–∏–Ω –¥–ª—è —á–µ—Ä—Ç–µ–∂–µ–π** - 1500 ‚ÇΩ
2. **3D Studio Max –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ** - 2500 ‚ÇΩ
3. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤** - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
4. **Revit –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤** - 800 ‚ÇΩ
5. **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–º–µ—Ç** - 5000 ‚ÇΩ

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ñ–∞–π–ª–æ–≤:

```bash
mkdir public/downloads
```

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã:

–ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ `public/downloads/` —Å –∏–º–µ–Ω–∞–º–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –≤ –ë–î:
- `autocad-plugin.zip`
- `3dsmax-extension.zip`
- `building-elements-library.zip`
- `revit-templates.zip`
- `estimate-calculator.exe`

### 3. –û–±–Ω–æ–≤–∏—Ç–µ –ø—É—Ç–∏ –≤ –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

–ß–µ—Ä–µ–∑ Prisma Studio –∏–ª–∏ API –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å `filePath` –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫.

## –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ insales

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ insales –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
2. –ü–æ–ª—É—á–∏—Ç–µ ID —Ç–æ–≤–∞—Ä–æ–≤
3. –û–±–Ω–æ–≤–∏—Ç–µ `insalesProductId` –≤ —Ç–∞–±–ª–∏—Ü–µ `downloadable_items`

### –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ö—É–ø–∏—Ç—å –∏ —Å–∫–∞—á–∞—Ç—å"
2. –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `download_purchases` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`
3. –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `payments`
4. –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã insales
5. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã webhook –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `paid`
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª

## API Endpoints

- `GET /api/downloads` - —Å–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∑–æ–∫
- `GET /api/downloads/[id]` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ
- `GET /api/downloads/[id]/download` - —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
- `POST /api/downloads/[id]/purchase` - –∫—É–ø–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
- `POST /api/downloads` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∞–º–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∞)

–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- –°—Ç—Ä–∞–Ω–∏—Ü—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∞–º–∏
- –ó–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–æ–∫
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫ (`designer@test.com`)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/downloads`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫—É–ø–∏—Ç—å –ø–ª–∞—Ç–Ω—É—é (–ø–æ–∫–∞ –±—É–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ insales)



